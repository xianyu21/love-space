"use strict";var e=require("../../../common/vendor.js"),t=require("../../tool/lib/language.js"),a=require("./interface.js"),o=require("../../tool/lib/tmpinia.js");require("../../tool/theme/theme.js"),require("../../tool/theme/colortool.js"),require("../../tool/lib/interface.js"),require("../../../theme/index.js"),require("../../tool/function/util.js"),require("../../tool/function/preview.js"),Math||(n+i+r+l+u)();const l=()=>"../tm-sheet/tm-sheet.js",r=()=>"../tm-text/tm-text.js",n=()=>"../tm-icon/tm-icon.js",i=()=>"../tm-translate/tm-translate.js",u=()=>"../tm-overlay/tm-overlay.js",s=e.defineComponent({props:{_style:{type:[Array,String,Object],default:()=>{}},_class:{type:[Array,String],default:"flex-center"},mask:{type:[Boolean],default:!0},duration:{type:Number,default:1300}},emits:["click"],setup(l,{expose:r,emit:n}){const i=l,u=o.useTmpiniaStore(),{proxy:s}=e.getCurrentInstance(),c=e.ref(e.index.$tm.u.getUid(5)),m=e.ref("white"),v=e.ref(a.modelType.info),d=e.ref(!1),g=e.ref(""),f=e.ref(""),p=e.ref(""),x=e.ref(!1),y=e.ref(0);e.ref(!1);const h=e.ref(i.mask),b=e.ref(!1);e.onUnmounted((()=>clearTimeout(c.value))),e.watch((()=>i.mask),(e=>h.value=e));const j={zIndex:"500 !important"},k=e.computed$1((()=>({load:{icon:"tmicon-loading",color:"primary",text:t.language("message.load.text")},error:{icon:"tmicon-times-circle",color:"red",text:t.language("message.error.text")},info:{icon:"tmicon-info-circle",text:t.language("message.info.text"),color:"black"},warn:{icon:"tmicon-exclamation-circle",text:t.language("message.warn.text"),color:"orange"},quest:{icon:"tmicon-question-circle",text:t.language("message.quest.text"),color:"pink"},success:{icon:"tmicon-check-circle",text:t.language("message.success.text"),color:"green"},disabled:{icon:"tmicon-ban",text:t.language("message.disabled.text"),color:"red"},wait:{icon:"tmicon-ios-alarm",text:t.language("message.wait.text"),color:"black"}})));function w(){s.$refs.tranAni.stop(),s.$refs.tranAni.reset(),clearTimeout(c.value),c.value=setTimeout((function(){y.value>0&&"load"!=v.value&&(x.value=!1,d.value=!1)}),y.value)}return r({show:function(e){let t=e||{},{duration:a,icon:o,text:l,color:r,dark:n,model:j,mask:w}=t;v.value=void 0===j?v.value:j,g.value=o=null!=o?o:k.value[v.value].icon,f.value=l=null!=l?l:k.value[v.value].text,p.value=r=null!=r?r:k.value[v.value].color,h.value="boolean"==typeof w?w:h.value,!0===n&&(m.value="black"),"boolean"!=typeof n&&(n=u.tmStore.dark),"white"!=p.value&&"black"!=p.value||(p.value=""),b.value=n,void 0===a&&(a=i.duration),y.value=isNaN(parseInt(String(a)))?1500:parseInt(String(a)),d.value=!0,x.value=!1,clearTimeout(c.value),c.value=setTimeout((()=>{clearTimeout(c.value),c.value=setTimeout((()=>{s.$refs.tranAni.play()}),50)}),50)},hide:function(){d.value=!1}}),(t,a)=>({a:e.p({_style:"line-height: normal",_class:"pa-10",spin:"load"==v.value,color:p.value,fontSize:72,name:g.value}),b:e.p({name:"zoom",delay:200}),c:e.p({"font-size":30,_class:"pt-8 text-overflow-1",label:f.value}),d:e.p({blur:!0,_style:i._style,_class:i._class,color:m.value,border:1,shadow:10,width:300,height:300,margin:[40,40],round:12,padding:[24,0]}),e:e.sr("tranAni","61e56e90-1,61e56e90-0"),f:e.o(w),g:e.p({reverse:x.value,name:"zoom",duration:150,"auto-play":!1}),h:e.o((e=>d.value=e)),i:e.p({transprent:!h.value,_style:j,overlayClick:!1,show:d.value})})}});wx.createComponent(s);
