"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(t,r,l)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,n=(e,n)=>{for(var o in n||(n={}))r.call(n,o)&&a(e,o,n[o]);if(t)for(var o of t(n))l.call(n,o)&&a(e,o,n[o]);return e},o=require("../../../common/vendor.js");Math||(u+p+f+i)();const i=()=>"../tm-sheet/tm-sheet.js",u=()=>"../tm-icon/tm-icon.js",p=()=>"../tm-text/tm-text.js",f=()=>"../tm-button/tm-button.js",s=o.defineComponent({props:{followTheme:{type:[Boolean,String],default:!0},position:{type:String,default:"br",validator:e=>{let t=["bc","bl","br","tc","tl","tr"].includes(e);return t||console.error("位置参数为:'bc','bl','br','tc','tl','tr'其中的一项"),t}},actionsPos:{type:String,default:"top",validator:e=>{let t=["left","right","top","bottom"].includes(e);return t||console.error("位置参数为:'left','right','top','bottom'其中的一项"),t}},width:{type:Number,default:112},height:{type:Number,default:112},offset:{type:Array,default:()=>[32,32]},actions:{type:Array,default:()=>[]},btn:{type:Object,default:()=>{},required:!0},showActions:{type:Boolean,default:!1},clickHidnActions:{type:Boolean,default:!0}},emits:["click","change"],setup(e,{emit:t}){var r;const l=e;let{windowTop:a,windowWidth:i}=o.index.getSystemInfoSync();a=a||0;const u=o.ref(!1),p=o.ref(null!=(r=l.showActions)&&r),f=o.computed$1((()=>l.position)),s=o.computed$1((()=>l.actionsPos)),c=o.computed$1((()=>{var e;return null!=(e=l.offset)?e:[0,0]})),h=o.computed$1((()=>{let e=(i-o.index.upx2px(1.5*l.width))/2+o.index.upx2px(c.value[0]);return e=(i-o.index.upx2px(2*l.width))/2+o.index.upx2px(c.value[0]),e})),x=o.computed$1((()=>{var e;return n({icon:"tmicon-plus",fontSize:20,color:"primary",linear:"",linearDeep:"accent",label:"",iconSize:42,fontColor:""},null!=(e=l.btn)?e:{})})),v=o.computed$1((()=>l.actions.map((e=>n(n({},{icon:"tmicon-plus",fontSize:20,color:"primary",linear:"",linearDeep:"accent",label:"",fontColor:"",iconSize:36}),e))))),d=o.computed$1((()=>("tl"!=f.value&&"tr"!=f.value&&"tc"!=f.value&&"bc"!=f.value||"bottom"!=s.value)&&("bl"!=f.value&&"br"!=f.value||"bottom"!=s.value)?"bl"!=f.value&&"br"!=f.value||"top"!=s.value?"tl"!=f.value&&"tr"!=f.value&&"tc"!=f.value&&"bc"!=f.value||"top"!=s.value?"tl"!=f.value&&"tc"!=f.value&&"bl"!=f.value&&"br"!=f.value&&"bc"!=f.value||"right"!=s.value?"tl"!=f.value&&"tr"!=f.value&&"tc"!=f.value&&"bl"!=f.value&&"br"!=f.value&&"bc"!=f.value||"left"!=s.value?"tr"==f.value&&"right"==s.value?{right:"0rpx",width:l.actions.length*l.height+"rpx",dispaly:"flex","flex-direction":"row"}:void 0:{right:`${l.height}rpx`,width:l.actions.length*l.height+"rpx",dispaly:"flex","flex-direction":"row-reverse"}:{left:`${l.height}rpx`,width:l.actions.length*l.height+"rpx",dispaly:"flex","flex-direction":"row"}:{top:"-0rpx",height:l.actions.length*l.height+"rpx",dispaly:"flex","flex-direction":"column"}:{top:"0px",dispaly:"flex","flex-direction":"column-reverse"}:{top:`${l.height}rpx`,height:l.actions.length*l.height+"rpx",dispaly:"flex","flex-direction":"column"})),g=o.computed$1((()=>{let e=p.value?(l.actions.length+1)*l.height:l.height;if(("tl"==f.value||"tr"==f.value||"tc"==f.value)&&"bottom"==s.value)return{height:e+"rpx"};if("tl"==f.value&&"top"==s.value){let t=-(l.actions.length*l.height-c.value[1]);return{height:e+"rpx",transform:`translateX(${c.value[0]}rpx) translateY(${t}rpx)`,"flex-direction":"column-reverse"}}if(("tl"==f.value||"tc"==f.value)&&"right"==s.value)return{width:e+"rpx"};if("tl"==f.value&&"left"==s.value){return{width:e+"rpx",transform:`translateX(${-(l.actions.length*l.height-c.value[0])}rpx) translateY(${c.value[1]}rpx)`,"flex-direction":"row-reverse"}}if("tr"==f.value&&"left"==s.value)return l.actions.length,l.height,c.value[0],{width:e+"rpx","flex-direction":"row-reverse"};if("tr"==f.value&&"top"==s.value){let t=-(l.actions.length*l.height-c.value[1]);return{height:e+"rpx",transform:`translateX(-${c.value[0]}rpx) translateY(${t}rpx)`,"flex-direction":"column-reverse"}}if("tr"==f.value&&"right"==s.value){return{width:e+"rpx",transform:`translateX(${l.actions.length*l.height-c.value[0]}rpx) translateY(${c.value[1]}rpx)`}}if("tc"==f.value&&"left"==s.value){return{width:e+"rpx",transform:`translateX(${h.value-o.index.upx2px(l.actions.length*l.height)-o.index.upx2px(c.value[0])}px) translateY(${c.value[1]}rpx)`,"flex-direction":"row-reverse"}}if("tc"==f.value&&"top"==s.value){return{height:e+"rpx",transform:`translateX(${h.value+o.index.upx2px(c.value[0])}px) translateY(${-(l.actions.length*l.height-c.value[1])}rpx)`,"flex-direction":"column-reverse"}}if("bl"==f.value&&"bottom"==s.value){let t=l.actions.length*l.height-c.value[1];return{height:e+"rpx",transform:`translateX(${c.value[0]}rpx) translateY(${t}rpx)`}}if("bl"==f.value&&"top"==s.value){let t=-c.value[1];return{height:e+"rpx",transform:`translateX(${c.value[0]}rpx) translateY(${t}rpx)`,"flex-direction":"column-reverse"}}if("bl"==f.value&&"right"==s.value)return{width:e+"rpx"};if("bl"==f.value&&"left"==s.value){return{width:e+"rpx",transform:`translateX(${-(l.actions.length*l.height-c.value[0])}rpx) translateY(${-c.value[1]}rpx)`,"flex-direction":"row-reverse"}}if("br"==f.value&&"bottom"==s.value){let t=l.actions.length*l.height-c.value[1];return{height:e+"rpx",transform:`translateX(${-c.value[0]}rpx) translateY(${t}rpx)`}}if("br"==f.value&&"top"==s.value){let t=-c.value[1];return{height:e+"rpx",transform:`translateX(${-c.value[0]}rpx) translateY(${t}rpx)`,"flex-direction":"column-reverse"}}if("br"==f.value&&"right"==s.value){return{width:e+"rpx",transform:`translateX(${l.actions.length*l.height-c.value[0]}rpx) translateY(${-c.value[1]}rpx)`}}if("br"==f.value&&"left"==s.value){return{width:e+"rpx",transform:`translateX(${-c.value[0]}rpx) translateY(${-c.value[1]}rpx)`,"flex-direction":"row-reverse"}}if("bc"==f.value&&"left"==s.value){return{width:e+"rpx",transform:`translateX(${h.value-o.index.upx2px(l.actions.length*l.height)-o.index.upx2px(c.value[0])}px) translateY(${-c.value[1]}rpx)`,"flex-direction":"row-reverse"}}if("bc"==f.value&&"right"==s.value){return{width:e+"rpx",transform:`translateX(${h.value+o.index.upx2px(c.value[0])}px) translateY(${-c.value[1]}rpx)`,"flex-direction":"row"}}if("bc"==f.value&&"top"==s.value){return{height:e+"rpx",transform:`translateX(${h.value+o.index.upx2px(c.value[0])}px) translateY(${-c.value[1]}rpx)`,"flex-direction":"column-reverse"}}if("bc"==f.value&&"bottom"==s.value){return{height:e+"rpx",transform:`translateX(${h.value+o.index.upx2px(c.value[0])}px) translateY(${l.actions.length*l.height+c.value[1]}rpx)`,"flex-direction":"column"}}}));function m(e){l.clickHidnActions?p.value=!p.value:p.value=!0,t("click",e)}return(e,r)=>o.e({a:o.p({userInteractionEnabled:!1,"follow-dark":!1,color:o.unref(x).fontColor,name:o.unref(x).icon,"font-size":o.unref(x).iconSize}),b:o.unref(x).label},o.unref(x).label?{c:o.p({userInteractionEnabled:!1,"follow-dark":!1,color:o.unref(x).fontColor,label:o.unref(x).label,"font-size":o.unref(x).fontSize})}:{},{d:o.o(m),e:o.p({followTheme:l.followTheme,_class:"flex flex-col flex-col-center-center",shadow:3,linear:o.unref(x).linear,"linear-deep":o.unref(x).linearDeep,color:o.unref(x).color,margin:[0,0],round:16,padding:[0,0],width:l.width-12,height:l.height-12}),f:o.p({transprent:!0,padding:[0,0],margin:[0,0],color:o.unref(x).color}),g:o.s({width:l.width+"rpx",height:l.height+"rpx"}),h:o.unref(v).length>0&&p.value},o.unref(v).length>0&&p.value?{i:o.f(o.unref(v),((e,r,a)=>o.e({a:"0ecb01f0-5-"+a+",0ecb01f0-4-"+a,b:o.p({userInteractionEnabled:!1,color:e.fontColor,name:e.icon,"font-size":e.iconSize}),c:e.label},e.label?{d:"0ecb01f0-6-"+a+",0ecb01f0-4-"+a,e:o.p({userInteractionEnabled:!1,color:e.fontColor,label:e.label,"font-size":e.fontSize})}:{},{f:o.o((a=>function(e,r){l.clickHidnActions&&(p.value=!1),t("change",e,r)}(r,e))),g:r,h:"0ecb01f0-4-"+a,i:o.p({followTheme:l.followTheme,_class:"flex flex-col flex-col-center-center",round:16,shadow:2,linear:e.linear,"linear-deep":e.linearDeep,color:e.color,margin:[0,0],padding:[0,0],width:l.width-12,height:l.height-12})}))),j:o.s({width:l.width+"rpx",height:l.height+"rpx"}),k:p.value,l:o.s(o.unref(d))}:{},{m:o.s("tl"==o.unref(f)?{transform:`translateX(${o.unref(c)[0]}rpx) translateY(${o.unref(c)[1]}rpx)`}:""),n:o.s("tr"==o.unref(f)?{transform:`translateX(-${o.unref(c)[0]}rpx) translateY(${o.unref(c)[1]}rpx)`,right:"0px"}:""),o:o.s("tc"==o.unref(f)?{transform:`translateX(${o.unref(h)}px) translateY(${o.unref(c)[1]}rpx)`}:""),p:o.s("bl"==o.unref(f)?{transform:`translateX(${o.unref(c)[0]}rpx) translateY(-${o.unref(c)[1]}rpx)`,bottom:"0px"}:""),q:o.s("br"==o.unref(f)?{transform:`translateX(-${o.unref(c)[0]}rpx) translateY(-${o.unref(c)[1]}rpx)`,right:"0px",bottom:"0px"}:""),r:o.s("bc"==o.unref(f)?{transform:`translateX(${o.unref(h)}px) translateY(-${o.unref(c)[1]}rpx)`,bottom:"0px"}:""),s:o.s(u.value||"tl"!=o.unref(f)&&"tc"!=o.unref(f)&&"tr"!=o.unref(f)?"":{top:"0px"}),t:o.s(o.unref(g))})}});wx.createComponent(s);
