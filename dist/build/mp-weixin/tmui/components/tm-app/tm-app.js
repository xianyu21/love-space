"use strict";var e=Object.defineProperty,o=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,u=(o,r,t)=>r in o?e(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t,l=require("../../../common/vendor.js"),i=require("../../tool/lib/tmpinia.js"),f=require("../../tool/lib/minxs.js");require("../../tool/theme/theme.js"),require("../../tool/theme/colortool.js"),require("../../tool/lib/interface.js"),require("../../../theme/index.js"),require("../../tool/function/util.js"),require("../../tool/function/preview.js");const c=l.defineComponent({props:(d=((e,o)=>{for(var r in o||(o={}))a.call(o,r)&&u(e,r,o[r]);if(t)for(var r of t(o))n.call(o,r)&&u(e,r,o[r]);return e})({},f.custom_props),b={theme:{type:String,default:"grey-5"},bgImg:{type:String,default:""},color:{type:String,default:"grey-4"},blur:{type:[Boolean,String],default:!1},navbar:{type:Object,default:()=>({background:"#ffffff",fontColor:"#000000"})},tabar:{type:Object,default:()=>({background:"#ffffff",fontColor:"#222222"})}},o(d,r(b))),setup(e,{expose:o}){const r=e,t=i.useTmpiniaStore(),a=l.computed$1((()=>t.tmStore)),n=l.ref(!1),u=l.computed$1((()=>f.computedDark(r,a.value))),c=l.computed$1((()=>f.computedTheme(r,u.value,a.value))),{safeArea:d,windowWidth:b,windowHeight:s,statusBarHeight:p,windowTop:m}=l.index.getSystemInfoSync();l.index.getSystemInfoSync();const g=l.ref((null==d?void 0:d.width)||b);let v=l.ref(s+(m||0));v.value=s;let h=l.ref({width:g,height:v,theme:c.value.backgroundColor,bgImg:r.bgImg,dark:u.value});function y(){u.value?h.value.theme="#050505":h.value.theme=c.value.backgroundColor,l.index.setBackgroundColor({backgroundColor:h.value.theme,backgroundColorBottom:h.value.theme,backgroundColorTop:h.value.theme}),u.value?(l.index.setNavigationBarColor({backgroundColor:h.value.theme,frontColor:"#ffffff"}),l.index.setTabBarStyle({backgroundColor:"#000000",borderStyle:"#1a1a1a",color:"#ffffff"}).catch((e=>{}))):(l.index.setNavigationBarColor({backgroundColor:r.navbar.background,frontColor:r.navbar.fontColor}).catch((e=>{})),l.index.setTabBarStyle({backgroundColor:r.navbar.background,borderStyle:"#888888",color:r.navbar.fontColor}).catch((e=>{}))),n.value=!0}return l.provide("appTextColor",l.computed$1((()=>c.value.textColor))),l.provide("custom_space_size",[0,0]),o({setTheme:function(e){t.setTmVuetifyTheme(e)},setDark:function(e){let o=!u.value;void 0!==e&&"boolean"==typeof e&&(o=e),h.value.dark=o,t.setTmVuetifyDark(o)}}),l.onBeforeMount((()=>y())),l.watch([()=>a.value.color,u],(()=>{n.value=!1,y()})),(o,r)=>l.e({a:n.value},n.value?{b:l.n(e.blur?"blur":""),c:l.s({zIndex:1,width:l.unref(h).width+"px",minHeight:l.unref(h).height+"px"}),d:l.s(e.blur?{backgroundColor:l.unref(u)?"rgba(0,0,0,0.3)":"rgba(248, 248, 248, 0.7)"}:"")}:{},{e:l.s(l.unref(h).theme?{background:l.unref(h).theme}:""),f:l.s({width:l.unref(h).width+"px",minHeight:l.unref(h).height+"px"})})}});var d,b;wx.createComponent(c);
