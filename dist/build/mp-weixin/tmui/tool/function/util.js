"use strict";var e=require("../../../common/vendor.js"),t=require("./preview.js");function n(t,n){try{return e.index.setStorageSync(t,n),!0}catch(r){return!1}}function r(t){try{const r=e.index.getStorageSync(t);try{return JSON.parse(r)}catch(n){return r}}catch(n){return}}let o,i=null;var a=Object.freeze(Object.defineProperty({__proto__:null,default:t.preview,splitData:function(e=[],t=1){let n=[],r=[];return e.forEach((e=>{r.length===t&&(r=[]),0===r.length&&n.push(r),r.push(e)})),n},timeMuch:function(e){let t={d:"00",h:"00",m:"00",s:"00"};if(e>0){let n=Math.floor(e/86400),r=Math.floor(e/3600%24),o=Math.floor(e/60%60),i=Math.floor(e%60);t.d=n<10?"0"+n:n,t.h=r<10?"0"+r:r,t.m=o<10?"0"+o:o,t.s=i<10?"0"+i:i}return t},getDateToNewData:function(e=(new Date).getTime()){"string"==typeof e&&(e=new Date(e).getTime());for(var t=(e+"").split(""),n=0;n<13;n++)t[n]||(t[n]="0");e=1*Number(t.join(""));var r=36e5,o=24*r,i=(new Date).getTime()-e;if(i<0)return"不久前";var a,u=i/2592e6,c=i/(7*o),s=i/o,f=i/r,l=i/6e4,d=function(e){return e<10?"0"+e:e};return u>12?(a=new Date(e)).getFullYear()+"年"+d(a.getMonth()+1)+"月"+d(a.getDate())+"日":u>=1?parseInt(u+"")+"月前":c>=1?parseInt(c+"")+"周前":s>=1?parseInt(s+"")+"天前":f>=1?parseInt(f+"")+"小时前":l>=1?parseInt(l+"")+"分钟前":"刚刚"},callPhone:function(t=""){let n=t.toString();return new Promise(((t,r)=>{e.index.makePhoneCall({phoneNumber:n,success:()=>t(!0),fail:e=>r(e)})}))},scanCode:function(t=!0,n=["barCode","qrCode","datamatrix","datamatrix"]){return new Promise(((r,o)=>{e.index.scanCode({onlyFromCamera:t,scanType:n,success:e=>r(e),fail:e=>o(e)})}))},setClipboardData:function(t){return new Promise(((n,r)=>{e.index.setClipboardData({data:t,success:()=>n(!0),fail:e=>r(e)})}))},getClipboardData:function(){return new Promise(((t,n)=>{e.index.getClipboardData({success:e=>t(e.data),fail:e=>n(e)})}))},setCookie:n,delCookie:function(t){try{return e.index.removeStorageSync(t),!0}catch(n){return!1}},getCookie:r,httpUrlAddKey:function(e,t,n){if(!n)return e;var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+o+t+"="+n},getUid:function(e=12){return Number(Number(Math.random().toString().substr(3,e)+Date.now()).toString(8))},debounce:function(e,t=500,n=!1){if(null!==i&&clearTimeout(i),n){var r=!i;i=setTimeout((()=>{i=null}),t),r&&"function"==typeof e&&e()}else i=setTimeout((()=>{"function"==typeof e&&e()}),t)},throttle:function(e,t=500,n=!0){n?o||(o=!0,"function"==typeof e&&e(),setTimeout((()=>{o=!1}),t)):o||(o=!0,setTimeout((()=>{o=!1,"function"==typeof e&&e()}),t))},deepClone:function e(t){if([null,void 0,NaN,!1].includes(t))return t;if("object"!=typeof t&&"function"!=typeof t)return t;var n=Array.isArray(t)?[]:{};for(let r in t)t.hasOwnProperty(r)&&(n[r]="object"==typeof t[r]?e(t[r]):t[r]);return n},quereyDom:function(t,n){return new Promise(((r,o)=>{e.index.createSelectorQuery().in(t).select(n).boundingClientRect((e=>{r(e)})).exec()}))},isPhone:function(e){return!!String(e).match(/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/)},isChina:function(e){return!!/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi.exec(e)},isEmpty:function(e){return"string"==typeof e&&(e=e.trim()),""==e||(null==e||(void 0===e||(!(!Array.isArray(e)||0!=e.length)||"object"==typeof e&&0==Object.keys(e).length)))},isEmail:function(e){return!!e.match(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/)},isIdCard:function(e){var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=(e=String(e)).substring(17);if(/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(e)){for(var r=0,o=0;o<17;o++){r+=e[o]*t[o]}if([1,0,"X",9,8,7,6,5,4,3,2][r%11]==n.toUpperCase())return!0}return!1},isIdCar:function(e){return!!e.match(/^[京|沪|津|渝|鲁|冀|晋|蒙|辽|吉|黑|苏|浙|皖|闽|赣|豫|湘|鄂|粤|桂|琼|川|贵|云|藏|陕|甘|青|宁|新|港|澳|台|新|使]{1}[A-Z]{1}[A-Z_0-9]{5,6}$/)},isPasswordOfNumber:function(e,t=6,n=20){e=String(e);let r=new RegExp(`^[0-9]{${t},${n}}$`);return!!e.match(r)},isPasswordOfOther:function(e,t=6,n=20,r=0){let o=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;return 1===r&&(o=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$).{6,20}$/),2===r&&(o=/(?=.*([a-zA-Z].*))(?=.*[0-9].*)[a-zA-Z0-9-*/+.~!@#$%^&*()]{6,20}$/),!!(e=String(e)).match(o)},isDate:function(e){return!(null==e||void 0===e||!e)&&("string"==typeof e&&(e=e.replace("-","/")),"Invalid Date"!=new Date(e).toString())}},Symbol.toStringTag,{value:"Module"}));exports.getCookie=r,exports.setCookie=n,exports.util=a;
