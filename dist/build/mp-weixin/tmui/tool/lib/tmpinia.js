"use strict";var e,t,o=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n=(e,t)=>{for(var o in t||(t={}))m.call(t,o)&&a(e,o,t[o]);if(s)for(var o of s(t))l.call(t,o)&&a(e,o,t[o]);return e},c=(e,t)=>r(e,i(t)),h=require("../../../common/vendor.js"),y=require("../theme/theme.js"),f=require("../function/util.js");let u=f.getCookie("setTmVuetifyColor")||"",p=f.getCookie("setTmVuetifyBlack"),S=f.getCookie("setTmVuetifyLocal")||"zh-Hans",T=f.getCookie("colorArrayList"),g="boolean"==typeof p&&p,C=new y.theme.themeColors;if(T){const e=T.filter((e=>C.colors.every((t=>t.name!==e.name))));C=new y.theme.themeColors([...C.colors,...e])}const d=C.colors,k=null!=(t=null==(e=h.index.getSystemInfoSync())?void 0:e.osName)?t:"";f.setCookie("colorArrayList",d);const b=h.defineStore("tmpinia",{state:()=>({tmStore:{color:u,dark:g,tmVueTifly_pages:"",tmVueTifly_pagesIndex:"",os:k,wxshareConfig_miniMp:{title:"",desc:"",imageUrl:"",path:"",copyLink:"",query:{}},colorList:d,local:S}}),actions:{setPageNow(e){this.tmStore=c(n({},this.tmStore),{tmVueTifly_pages:e})},setPageNowIndex(e){this.tmStore=c(n({},this.tmStore),{tmVueTifly_pagesIndex:e})},setTmVuetifyDark(e){e="boolean"==typeof e&&e,f.setCookie("setTmVuetifyBlack",e),this.tmStore=c(n({},this.tmStore),{dark:e})},setWxShare(e){let t=e||{};("object"!=typeof t||Array.isArray(e))&&(t={}),this.tmStore=c(n({},this.tmStore),{wxshareConfig_miniMp:n(n({},this.tmStore.wxshareConfig_miniMp),t)})},setTmVuetifyTheme(e){let t=e;t&&""!=t&&!y.theme.isCssColor(t)||(t=""),f.setCookie("setTmVuetifyColor",t),this.tmStore=c(n({},this.tmStore),{color:t})},setTmVuetifyAddTheme(e,t,o=!0){this.tmStore=c(n({},this.tmStore),{colorList:C.add(e,t)}),f.setCookie("colorArrayList",this.tmStore.colorList),o&&this.setTmVuetifyTheme(e)},setTmLocal(e){e=e||"zh-Hans",f.setCookie("setTmVuetifyLocal",e),this.tmStore=c(n({},this.tmStore),{local:e})}}});exports.useTmpiniaStore=b;
